var myApp=angular.module("student",[]),host="http://localhost:3000/api/";myApp.controller("studentController",function(t,e){e.students=[],e.newStudent={},e.editing=!1,t.get(host+"students").success(function(t){e.students=t}),e.getStudentDetail=function(n){console.log("triggerd click!"),t.get(host+"students/"+n).success(function(t){e.clickedStudent=t})},e.isValid=!1,e.createNewStudent=function(){t.post(host+"students/new",e.newStudent).success(function(t){console.log(t),e.students.push(t),e.newStudent={}})},e.clearStudent=function(){e.clickedStudent=void 0},e.deleteStudent=function(n){console.log(n),t.get(host+"students/delete/"+n).success(function(t){console.log(t);var n=e.students;for(i=0;i<n.length;i++)n[i]._id===t._id&&(e.students.splice(i,1),e.clickedStudent=void 0)})},e.editStudent=function(){e.editing=!0,e.newStudent=e.clickedStudent,console.log(e.newStudent)},e.saveStudent=function(n){console.log(n),n?(t.post(host+"students/edit/"+n,e.newStudent).success(function(){var t=e.students;for(i=0;i<t.length;i++)t[i]._id===n&&(t[i]=e.newStudent,e.newStudent={})}),e.editing=!1):(e.createNewStudent(),e.editing=!1)}});